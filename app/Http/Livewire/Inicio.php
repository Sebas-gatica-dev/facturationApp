<?php

namespace App\Http\Livewire;

use Livewire\Component;
use App\Bank\DataBase;
use App\Models\ExternalClient;

class Inicio extends Component
{


    private $separated;

    public $totalActivos = 0;
    public $totalInactivos = 0;
    public $data;
 


   

public function __construct(){
    $this -> separated = [
        3123,
        3254,
        3297,
    ]; 

}


 
public function getInfo()
{
    $totalActivos = 0;
    $totalInactivos = 0;

    foreach (ExternalClient::all() as $cliente) {
        $cliente_db = 'rb3' . $cliente->nombre;
        $database = new DataBase($cliente_db);

        $totalActivos += $database->totalActivos();
        $totalInactivos += $database->totalInactivos();
    }

    return [
        'activos' => $totalActivos,
        'inactivos' => $totalInactivos,
    ];
}

















public function render()
{

  $data = $this->getInfo();

  

    return view(
        'livewire.inicio.inicio',
        [
        'activos' => $data['activos'],
        'inactivos' => $data['inactivos'],
        ]
    );
}



private function activos($nro_cliente) : bool
{

    $activos = [
        "2343",
        "2832",
        "2841",
        "2860",
        "2864",
        "2869",
        "2902",
        "2904",
        "2905",
        "2906",
        "2929",
        "2933",
        "2936",
        "2947",
        "2948",
        "2954",
        "2955",
        "2956",
        "2960",
        "2966",
        "2967",
        "2973",
        "2973",
        "2979",
        "2981",
        "2982",
        "2987",
        "2994",
        "3001",
        "3001",
        "3004",
        "3012",
        "3015",
        "3016",
        "3018",
        "3019",
        "3020",
        "3021",
        "3022",
        "3023",
        "3024",
        "3025",
        "3026",
        "3027",
        "3028",
        "3029",
        "3030",
        "3031",
        "3033",
        "3039",
        "3040",
        "3042",
        "3043",
        "3044",
        "3047",
        "3048",
        "3049",
        "3050",
        "3051",
        "3052",
        "3053",
        "3059",
        "3063",
        "3064",
        "3065",
        "3068",
        "3080",
        "3083",
        "3087",
        "3093",
        "3093",
        "3095",
        "3097",
        "3106",
        "3107",
        "3111",
        "3113",
        "3116",
        "3118",
        "3119",
        "3120",
        "3123",
        "3133",
        "3136",
        "3137",
        "3138",
        "3140",
        "3141",
        "3142",
        "3144",
        "3145",
        "3146",
        "3147",
        "3158",
        "3159",
        "3160",
        "3163",
        "3164",
        "3165",
        "3166",
        "3167",
        "3169",
        "3175",
        "3175",
        "3177",
        "3184",
        "3185",
        "3188",
        "3190",
        "3191",
        "3192",
        "3194",
        "3196",
        "3197",
        "3203",
        "3204",
        "3205",
        "3207",
        "3208",
        "3218",
        "3223",
        "3226",
        "3229",
        "3237",
        "3241",
        "3243",
        "3244",
        "3245",
        "3245",
        "3246",
        "3246",
        "3248",
        "3249",
        "3250",
        "3252",
        "3252",
        "3253",
        "3254",
        "3271",
        "3274",
        "3278",
        "3279",
        "3280",
        "3285",
        "3286",
        "3287",
        "3288",
        "3289",
        "3290",
        "3292",
        "3293",
        "3295",
        "3297",
        "3302",
        "3303",
        "3304",
        "3305",
        "3307",
        "3308",
        "3309",
        "3310",
        "3311",
        "3312",
        "3313",
        "3314",
        "3316",
        "3320",
        "3321",
        "3322",
        "3323",
        "3335",
        "3338",
        "3342",
        "3344",
        "3345",
        "3346",
        "3347",
        "3348",
        "3349",
        "3351",
        "3352",
        "3353",
        "3354",
        "3355",
        "3356",
        "3357",
        "3359",
        "3361",
        "3362",
        "3363",
        "3364",
        "3370",
        "3380",
        "3395",
        "3396",
        "3397",
        "3398",
        "3400",
        "3402",
        "3403",
        "3403",
        "3404",
        "3405",
        "3406",
        "3408",
        "3409",
        "3372",
        "3374",
        "3375",
        "3380",
        "3382",
        "3386",
        "3387",
        "3390",
        "3392",
    ];


    if( in_array($nro_cliente, $activos) )
    {
        return true;
    }

    return false;

}



   
}
